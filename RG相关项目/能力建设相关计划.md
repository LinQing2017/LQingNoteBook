# 拆解课题
7月3日前，验证通过rancher + k8s 等云管理平台管理（web应用、大数据应用）应用的可行性，并输出评估报告；
        => 评估报告应包括部门在云端开发、部署、维护、安全性的痛点分析，云管平台能否解决，代价多大。
        => 评估报告中应包含开源云管理平台的功能、稳定性、扩展性评估。

7月17日前，假设确实可行，搭建部门内部的K8S管理平台以及输出应用上云的流程规范及培训；
        => 管理平台中应该包括配套的镜像仓库、应用商店、监控运维平台等。
        => 流程规范中应该包括各种应用的heml包模板，持久化存储和网络的相关配置、配套的开发插件或命令等。



# 后续规划

## 1. Kerbernetes基础架构研究

Kerbernetes 安装部署、HA方案研究：

- K8S 高可用方案调研
- 离线K8S部署方案、安装包制作
        

Kerbernetes 存储方案研究：

- 研究基于Openebs的iSCSI存储方案
- 研究基于Ceph的分布式存储方案
- 进行Ceph、Openebs对比性能测试、稳定性测试等，为存储方案选型提供依据
- 针对Ceph和Openebs进行技术选型并深入研究、持续提升运维能力。
             

Kerbernetes DevOps方案研究：

- Helm 深入研究

- Helm、Harbor、Jenkins 集成到Kubernetes，形成持续集成链路

  

## 2. 项目迁移可行性分析

### 1. iData 项目

- 技术难点：
	- 重度依赖CDH环境，Impala、HBase、Hive on Spark 这三个组件没有相对成熟的容器部署方案。

- 完整迁移 iData 项目到 K8S 需要进行的工作：
	- 去除Cloudare Manager改用 Helm 或者原生 Apache 版本部署 Kafka、Zookeeper、Hadoop 等组件
	- 去除Impala、HBase、Hive on Spark等组件，使用云原生方案替代
	- IData业务相关代码的改造
	- 安装包、业务Helm等制作
  
- Kubernetes 带来的优势：
	- 极大简化平台、业务安装包，缩短安装时间（现阶段一次安装需要1～2小时，前提还是不出任何问题的情况。如果出现依赖问题，或者环境问题，一个局点部署1～2天很正常）
	- 通过Kubernetes引入一些云原生开发规范形成内部标准，便于iData后续集成新业务
	- 通过Rancher我们可以将各个环境的iData Cluster接入到公司云环境，对客户的使用情况、流量等数据进行统计，持续优化业务，提升产品质量
  
- 工作量评估：10人/月起步！！！

### 2.wis 项目

- 技术难点：
	- Kubernetes 提供稳定可靠的存储方案

- 个人观点：以WIS云目前的场景，完全没有迁移K8S的必要

### 3. OMC 项目

- 技术难点：
	- 现阶段 OMC 的业务主要以容器业务为主，没有难以容器化依赖服务。

- 工作量评估：1～2人/月

### 4. iot 云平台

- 已经迁移到Kubernetes，没啥深度？

### 总结

就项目而言，iData 迁移 Kubernetes 后能够带来一定好处，但需要付出很大代价。
OMC 项目目前迁移到Kubernetes 难度不大，可以进行投入。